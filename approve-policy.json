{
  "Policy": "AMM Only Policy",
  "Description": "This policy ensures tokens can only be swapped through the Forte Spot DEX. Direct transfers between users are still allowed.",
  "PolicyType": "open",
  "CallingFunctions": [
    {
      "Name": "transfer(address to, uint256 value)",
      "FunctionSignature": "transfer(address to, uint256 value)",
      "EncodedValues": "address to, uint256 value"
    },
    {
      "Name": "approve(address spender, uint256 value)",
      "FunctionSignature": "approve(address spender, uint256 value)",
      "EncodedValues": "address spender, uint256 value"
    },
    {
      "Name": "transferFrom(address from, address to, uint256 value)",
      "FunctionSignature": "transferFrom(address from, address to, uint256 value)",
      "EncodedValues": "address from, address to, uint256 value"
    }
  ],
  "ForeignCalls": [],
  "MappedTrackers": [
    {
      "Name": "AllowedSpenders",
      "KeyType": "address",
      "ValueType": "bool",
      "InitialKeys": ["0x3a625e46759e46831cbf1b91765dc418f7988df8"],
      "InitialValues": ["true"]
    }
  ],
  "Trackers": [],
  "Rules": [
    {
      "Name": "AllowedSpenders approve",
      "Description": "The spender must be in the AllowedSpenders list",
      "Condition": "TR:AllowedSpenders(spender) == true",
      "PositiveEffects": [],
      "NegativeEffects": ["revert(\"Must be AllowedSpender APRV\")"],
      "CallingFunction": "approve(address spender, uint256 value)"
    },
    {
      "Name": "AllowedSpenders transferFrom",
      "Description": "Only the AllowedSpenders can call the transferFrom function",
      "Condition": "TR:AllowedSpenders(GV:MSG_SENDER) == true",
      "PositiveEffects": [],
      "NegativeEffects": ["revert(\"Must be AllowedSpender TRF\")"],
      "CallingFunction": "transferFrom(address from, address to, uint256 value)"
    }
  ]
}
